<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>License Wizard</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    max-width: 900px;
    margin: 40px auto;
    padding: 0 20px;
    line-height: 1.6;
  }
  h1 { margin-bottom: 5px; }
  h2 { margin-top: 25px; }

  fieldset {
    border: 1px solid #aaa;
    padding: 15px;
    margin-top: 20px;
    border-radius: 6px;
  }
  legend {
    padding: 0 10px;
    font-weight: 600;
  }
  .row { display: flex; gap: 20px; margin-bottom: 10px; }
  input[type="text"] {
    padding: 5px;
    width: 250px;
  }
  label { cursor: pointer; }
  textarea {
    width: 100%;
    height: 350px;
    margin-top: 20px;
    font-family: monospace;
  }
  button {
    margin-top: 10px;
    padding: 9px 14px;
    cursor: pointer;
    font-size: 15px;
  }
</style>
</head>

<body>

<h1>License Wizard</h1>
<p>Generate licenses with strict rules, custom clauses, and your automatic name/year included.</p>

<!-- User Info -->
<fieldset>
  <legend>Your Info</legend>
  <div class="row">
    <label>Your Name:<br>
      <input type="text" id="author" placeholder="Olivia Griffin">
    </label>
    <label>Year:<br>
      <input type="text" id="year" placeholder="2025">
    </label>
  </div>
</fieldset>

<!-- License Presets -->
<fieldset>
  <legend>Base License</legend>
  <label><input type="radio" name="preset" value="strict-template"> Strict Proprietary (view only)</label><br>
  <label><input type="radio" name="preset" value="gpl"> GPLv3</label><br>
  <label><input type="radio" name="preset" value="agpl"> AGPLv3</label><br>
  <label><input type="radio" name="preset" value="lgpl"> LGPL</label><br>
  <label><input type="radio" name="preset" value="mpl"> Mozilla MPL</label><br>
  <label><input type="radio" name="preset" value="mit"> MIT</label><br>
  <label><input type="radio" name="preset" value="apache"> Apache 2.0</label><br>
  <label><input type="radio" name="preset" value="bsd"> BSD-3</label><br>
  <label><input type="radio" name="preset" value="ccby"> CC-BY</label><br>
  <label><input type="radio" name="preset" value="cc0"> CC0</label><br>
  <label><input type="radio" name="preset" value="unlicense"> Unlicense</label><br>
</fieldset>

<!-- Strict Clauses -->
<fieldset>
  <legend>Extra Clauses (Stackable)</legend>

  <label><input type="checkbox" id="sourceVisible"> Source Visible, Not Usable</label><br>
  <label><input type="checkbox" id="attribBanner"> Attribution Banner Required</label><br>
  <label><input type="checkbox" id="personalOnly"> Personal Use Only</label><br>
  <label><input type="checkbox" id="noDerivatives"> No Derivatives Allowed</label><br>
  <label><input type="checkbox" id="antiAI"> Anti-AI Training</label><br>
  <label><input type="checkbox" id="noGov"> No Government Use</label><br>
  <label><input type="checkbox" id="noBigTech"> No Big-Tech Use</label><br>
  <label><input type="checkbox" id="noSaaS"> No SaaS Resale</label><br>
  <label><input type="checkbox" id="moral"> Moral Use Only</label><br>

</fieldset>

<button onclick="generateLicense()">Generate License</button>
<button onclick="copyLicense()">Copy to Clipboard</button>

<textarea id="output" placeholder="Your license will appear here..."></textarea>

<script>
// -----------------------------
// License Fetch Map
// -----------------------------
const LICENSE_URLS = {
  gpl: "https://www.gnu.org/licenses/gpl-3.0.txt",
  agpl: "https://www.gnu.org/licenses/agpl-3.0.txt",
  lgpl: "https://www.gnu.org/licenses/lgpl-3.0.txt",
  mpl: "https://www.mozilla.org/media/MPL/2.0/index.txt",
  mit: "https://raw.githubusercontent.com/licenses/license-templates/master/templates/mit.txt",
  apache: "https://www.apache.org/licenses/LICENSE-2.0.txt",
  bsd: "https://raw.githubusercontent.com/licenses/license-templates/master/templates/bsd3.txt",
  ccby: "https://creativecommons.org/licenses/by/4.0/legalcode.txt",
  cc0: "https://creativecommons.org/publicdomain/zero/1.0/legalcode.txt",
  unlicense: "https://raw.githubusercontent.com/licenses/license-templates/master/templates/unlicense.txt"
};

// -----------------------------
// Strict License Template
// -----------------------------
function strictProprietary(name, year) {
return `
Copyright © ${year} ${name}
All Rights Reserved.

This work is proprietary and confidential.  
You may view the source code for learning and inspection only.

You may NOT:
- run, compile, execute, or deploy this code  
- copy or reuse any part of it  
- create derivative works  
- include it in other software  
- distribute it  
- use it commercially  
- use it in SaaS or subscription services  
- reverse engineer any part of it

No rights are granted except the right to read the code.
`.trim();
}

// -----------------------------
// Clause Templates
// -----------------------------
const CLAUSES = {
  sourceVisible: `
Source Visible — Not Usable:
You may read the code but may not run, compile, execute, or reuse it in any form.
`.trim(),

  attribBanner: `
Attribution Banner:
Public interfaces must display: "Created by [AUTHOR] — https://github.com/[username]"
`.trim(),

  personalOnly: `
Personal Use Only:
Free for personal use only. Commercial use is prohibited.
`.trim(),

  noDerivatives: `
No Derivatives:
You may not modify, fork, translate, or create derivative works.
`.trim(),

  antiAI: `
Anti-AI Clause:
You may not use this content for AI training, embeddings, fine-tuning, or dataset creation.
`.trim(),

  noGov: `
No Government Use:
Government, military, law enforcement, and intelligence agencies may not use this software.
`.trim(),

  noBigTech: `
No Big-Tech Use:
Prohibited for use by Google, Meta, Amazon, Apple, Microsoft, OpenAI, Anthropic, IBM, Salesforce, or their subsidiaries.
`.trim(),

  noSaaS: `
No SaaS Resale:
You may not convert this into a SaaS offering, subscription, or paid hosted service.
`.trim(),

  moral: `
Moral Use Clause:
You may not use this software for harassment, discrimination, abuse, surveillance, fraud, or unethical activity.
`.trim()
};

// -----------------------------
// Fetch License
// -----------------------------
async function fetchLicense(type) {
  if (!LICENSE_URLS[type]) return null;
  const res = await fetch(LICENSE_URLS[type]);
  return await res.text();
}

// -----------------------------
// Generate License
// -----------------------------
async function generateLicense() {
  const name = document.getElementById("author").value || "Author";
  const year = document.getElementById("year").value || new Date().getFullYear();
  const preset = document.querySelector('input[name="preset"]:checked');

  if (!preset) {
    document.getElementById("output").value = "Choose a base license first.";
    return;
  }

  let baseText = "";

  if (preset.value === "strict-template") {
    baseText = strictProprietary(name, year);
  } else {
    const template = await fetchLicense(preset.value);
    baseText = template
      .replace("[year]", year)
      .replace("[yyyy]", year)
      .replace("[fullname]", name)
      .replace("Copyright (c) <year> <copyright holders>",
               `Copyright © ${year} ${name}`)
      .replace("Copyright (c) [year] [fullname]",
               `Copyright © ${year} ${name}`);
  }

  const chosenClauses = [];

  for (let key in CLAUSES) {
    if (document.getElementById(key).checked) {
      chosenClauses.push(CLAUSES[key]);
    }
  }

  let finalText = baseText;

  if (chosenClauses.length > 0) {
    finalText += "\n\nADDITIONAL TERMS:\n" + chosenClauses.join("\n\n");
  }

  document.getElementById("output").value = finalText;
}

// -----------------------------
// Copy to Clipboard
// -----------------------------
function copyLicense() {
  const text = document.getElementById("output").value;
  navigator.clipboard.writeText(text).then(() => {
    alert("License copied to clipboard.");
  });
}
</script>

</body>
</html>
